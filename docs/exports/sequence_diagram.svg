<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4048px" preserveAspectRatio="none" style="width:1340px;height:4048px;background:#FFFFFF;" version="1.1" viewBox="0 0 1340 4048" width="1340px" zoomAndPan="magnify"><defs/><g><rect fill="#CEC4E1" height="4036.4453" style="stroke:#181818;stroke-width:0.5;" width="482.5" x="36" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="43" x="255.75" y="18.0669">Game</text><rect fill="#ADD8E6" height="4036.4453" style="stroke:#181818;stroke-width:0.5;" width="812" x="520.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111" x="871" y="18.0669">Threads library</text><rect fill="#FFFFFF" height="1600.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="69" y="147.6953"/><rect fill="#FFFFFF" height="1774" style="stroke:#181818;stroke-width:1.0;" width="10" x="69" y="2192.1484"/><rect fill="#FFFFFF" height="398.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="273" y="1231.6875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="273" y="1666.2188"/><rect fill="#FFFFFF" height="2233.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="273" y="1748.6172"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2192.1484"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2356.9453"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2488.2813"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2619.6172"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2750.9531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2896.2891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2978.6875"/><rect fill="#FFFFFF" height="429.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="3036.9531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2221.2813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2386.0781"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2517.4141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2648.75"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2780.0859"/><rect fill="#FFFFFF" height="340.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="448.0234"/><rect fill="#FFFFFF" height="371.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="824.2891"/><rect fill="#FFFFFF" height="340.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="1260.8203"/><rect fill="#FFFFFF" height="371.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="1777.75"/><rect fill="#FFFFFF" height="371.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="3066.0859"/><rect fill="#FFFFFF" height="203.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="147.6953"/><rect fill="#FFFFFF" height="142.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="601.6875"/><rect fill="#FFFFFF" height="166.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="977.9531"/><rect fill="#FFFFFF" height="166.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="1931.4141"/><rect fill="#FFFFFF" height="166.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="3219.75"/><rect fill="#FFFFFF" height="254.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="3711.4141"/><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="176.8281"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="477.1563"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="715.0859"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="853.4219"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="1115.4844"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="1289.9531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="1806.8828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="2068.9453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3095.2188"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3357.2813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3573.8828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3887.8828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1282" y="205.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1282" y="264.2266"/><rect fill="none" height="274.8672" style="stroke:#000000;stroke-width:1.5;" width="1040" x="30" y="521.2891"/><rect fill="none" height="306" style="stroke:#000000;stroke-width:1.5;" width="1182" x="30" y="897.5547"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="463" x="739" y="992.9531"/><rect fill="none" height="304" style="stroke:#000000;stroke-width:1.5;" width="1040" x="30" y="1334.0859"/><rect fill="none" height="453.6641" style="stroke:#000000;stroke-width:1.5;" width="1192" x="30" y="1710.3516"/><rect fill="none" height="306" style="stroke:#000000;stroke-width:1.5;" width="993.5" x="218.5" y="1851.0156"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="463" x="739" y="1946.4141"/><rect fill="none" height="573.6094" style="stroke:#000000;stroke-width:1.5;" width="514.5" x="20" y="2294.5469"/><rect fill="none" height="542.4766" style="stroke:#000000;stroke-width:1.5;" width="494.5" x="30" y="2318.6797"/><rect fill="none" height="699.7266" style="stroke:#000000;stroke-width:1.5;" width="1202" x="20" y="2940.4219"/><rect fill="none" height="335.1328" style="stroke:#000000;stroke-width:1.5;" width="1182" x="30" y="3139.3516"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="463" x="739" y="3234.75"/><rect fill="none" height="205.6016" style="stroke:#000000;stroke-width:1.5;" width="351" x="729" y="3726.4141"/><rect fill="none" height="174.4688" style="stroke:#000000;stroke-width:1.5;" width="331" x="739" y="3750.5469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="73.4297" y2="3991.1484"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="277.5" x2="277.5" y1="73.4297" y2="3991.1484"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="481.5" x2="481.5" y1="73.4297" y2="3991.1484"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="577.5" x2="577.5" y1="73.4297" y2="3991.1484"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="787" x2="787" y1="73.4297" y2="3991.1484"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1032" x2="1032" y1="73.4297" y2="3991.1484"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1286.5" x2="1286.5" y1="73.4297" y2="3991.1484"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="40" y="42.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="51" y="62.1279">: Player</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="40" y="3990.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="51" y="4010.1436">: Player</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="228.5" y="42.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="239.5" y="62.1279">: Spaceship</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="228.5" y="3990.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="239.5" y="4010.1436">: Spaceship</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="449.5" y="42.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="460.5" y="62.1279">: Entity</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="449.5" y="3990.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="460.5" y="4010.1436">: Entity</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="524.5" y="42.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="535.5" y="62.1279">: Semaphore</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="524.5" y="3990.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="535.5" y="4010.1436">: Semaphore</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="749" y="42.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="760" y="62.1279">: Thread</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="749" y="3990.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="760" y="4010.1436">: Thread</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="1004" y="42.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1015" y="62.1279">: CPU</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="1004" y="3990.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1015" y="4010.1436">: CPU</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1249.5" y="70.1279">: UContext</text><path d="M1266.5,29.1328 L1266.5,53.1328 M1266.5,41.1328 L1283.5,41.1328 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1295.5" cy="41.1328" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1249.5" y="4003.1436">: UContext</text><path d="M1266.5,4010.4453 L1266.5,4034.4453 M1266.5,4022.4453 L1283.5,4022.4453 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="1295.5" cy="4022.4453" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="1600.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="69" y="147.6953"/><rect fill="#FFFFFF" height="1774" style="stroke:#181818;stroke-width:1.0;" width="10" x="69" y="2192.1484"/><rect fill="#FFFFFF" height="398.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="273" y="1231.6875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="273" y="1666.2188"/><rect fill="#FFFFFF" height="2233.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="273" y="1748.6172"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2192.1484"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2356.9453"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2488.2813"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2619.6172"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2750.9531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2896.2891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="2978.6875"/><rect fill="#FFFFFF" height="429.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="278" y="3036.9531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2221.2813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2386.0781"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2517.4141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2648.75"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="2780.0859"/><rect fill="#FFFFFF" height="340.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="448.0234"/><rect fill="#FFFFFF" height="371.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="824.2891"/><rect fill="#FFFFFF" height="340.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="1260.8203"/><rect fill="#FFFFFF" height="371.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="1777.75"/><rect fill="#FFFFFF" height="371.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="573" y="3066.0859"/><rect fill="#FFFFFF" height="203.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="147.6953"/><rect fill="#FFFFFF" height="142.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="601.6875"/><rect fill="#FFFFFF" height="166.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="977.9531"/><rect fill="#FFFFFF" height="166.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="1931.4141"/><rect fill="#FFFFFF" height="166.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="3219.75"/><rect fill="#FFFFFF" height="254.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="3711.4141"/><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="176.8281"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="477.1563"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="715.0859"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="853.4219"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="1115.4844"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="1289.9531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="1806.8828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="2068.9453"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3095.2188"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3357.2813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3573.8828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027" y="3887.8828"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1282" y="205.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1282" y="264.2266"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1333.5" x="0" y="103.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1333.5" y1="103.9961" y2="103.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1333.5" y1="106.9961" y2="106.9961"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="108" x="612.75" y="93.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89" x="618.75" y="109.4966">Initialization</text><polygon fill="#181818" points="770,143.6953,780,147.6953,770,151.6953,774,147.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="776" y1="147.6953" y2="147.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="86" y="142.6294">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="99" y="142.6294">new Thread(update_behaviour, this)</text><polygon fill="#181818" points="1015,172.8281,1025,176.8281,1015,180.8281,1019,176.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="1021" y1="176.8281" y2="176.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="799" y="171.7622">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="812" y="171.7622">new Context(func, an...)</text><polygon fill="#181818" points="1270,201.9609,1280,205.9609,1270,209.9609,1274,205.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037" x2="1276" y1="205.9609" y2="205.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1044" y="200.895">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1057" y="200.895">getcontext(context)</text><polygon fill="#181818" points="1048,231.0938,1038,235.0938,1048,239.0938,1044,235.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042" x2="1286" y1="235.0938" y2="235.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1054" y="230.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1067" y="230.0278"> </text><polygon fill="#181818" points="1270,260.2266,1280,264.2266,1270,268.2266,1274,264.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037" x2="1276" y1="264.2266" y2="264.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1044" y="259.1606">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1057" y="259.1606">makecontext(context, func, an...)</text><polygon fill="#181818" points="1048,289.3594,1038,293.3594,1048,297.3594,1044,293.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1042" x2="1286" y1="293.3594" y2="293.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1054" y="288.2935">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1067" y="288.2935"> </text><polygon fill="#181818" points="803,318.4922,793,322.4922,803,326.4922,799,322.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="797" x2="1031" y1="322.4922" y2="322.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="809" y="317.4263">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="822" y="317.4263"> </text><polygon fill="#181818" points="90,347.625,80,351.625,90,355.625,86,351.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="786" y1="351.625" y2="351.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="96" y="346.5591">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="109" y="346.5591"> </text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1333.5" x="0" y="380.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1333.5" y1="380.1914" y2="380.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1333.5" y1="383.1914" y2="383.1914"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="133" x="600.25" y="369.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="606.25" y="385.6919">Behaviour Loop</text><polygon fill="#181818" points="561,444.0234,571,448.0234,561,452.0234,565,448.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="567" y1="448.0234" y2="448.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="86" y="442.9575">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="99" y="442.9575">p()</text><polygon fill="#181818" points="1015,473.1563,1025,477.1563,1015,481.1563,1019,477.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="1021" y1="477.1563" y2="477.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="472.0903">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="612" y="472.0903">fdec(sem_value)</text><polygon fill="#181818" points="594,502.2891,584,506.2891,594,510.2891,590,506.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="588" x2="1031" y1="506.2891" y2="506.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="600" y="501.2231">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="622" y="501.2231">int fdec(sem_value)</text><path d="M30,521.2891 L94,521.2891 L94,528.4219 L84,538.4219 L30,538.4219 L30,521.2891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="274.8672" style="stroke:#000000;stroke-width:1.5;" width="1040" x="30" y="521.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="534.356">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="140" x="109" y="533.4995">[fdec(sem_value) &lt; 1]</text><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="625" y1="559.5547" y2="559.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="559.5547" y2="572.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="584" x2="625" y1="572.5547" y2="572.5547"/><polygon fill="#181818" points="594,568.5547,584,572.5547,594,576.5547,590,572.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="554.4888">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="612" y="554.4888">sleep()</text><polygon fill="#181818" points="770,597.6875,780,601.6875,770,605.6875,774,601.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="776" y1="601.6875" y2="601.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="596.6216">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="612" y="596.6216">sleep(sleeping_queue)</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="630.8203" y2="630.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="630.8203" y2="643.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="643.8203" y2="643.8203"/><polygon fill="#181818" points="803,639.8203,793,643.8203,803,647.8203,799,643.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="625.7544">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="821" y="625.7544">yield()</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="672.9531" y2="672.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="672.9531" y2="685.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="685.9531" y2="685.9531"/><polygon fill="#181818" points="803,681.9531,793,685.9531,803,689.9531,799,685.9531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="667.8872">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="667.8872">switch_context(previous, next)</text><polygon fill="#181818" points="1015,711.0859,1025,715.0859,1015,719.0859,1019,715.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="1021" y1="715.0859" y2="715.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="710.02">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="710.02">switch_context(previous, next)</text><polygon fill="#181818" points="798,740.2188,788,744.2188,798,748.2188,794,744.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="792" x2="1031" y1="744.2188" y2="744.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="804" y="739.1528">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="826" y="739.1528"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1070" y1="753.2188" y2="753.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="35" y="763.4292">[else case]</text><polygon fill="#181818" points="90,784.1563,80,788.1563,90,792.1563,86,788.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="577" y1="788.1563" y2="788.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="783.0903">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="783.0903"> </text><polygon fill="#181818" points="561,820.2891,571,824.2891,561,828.2891,565,824.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="567" y1="824.2891" y2="824.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="819.2231">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="108" y="819.2231">v()</text><polygon fill="#181818" points="1015,849.4219,1025,853.4219,1015,857.4219,1019,853.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="1021" y1="853.4219" y2="853.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="848.356">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="612" y="848.356">finc(sem_value)</text><polygon fill="#181818" points="594,878.5547,584,882.5547,594,886.5547,590,882.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="588" x2="1031" y1="882.5547" y2="882.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="600" y="877.4888">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="622" y="877.4888">int finc(sem_value)</text><path d="M30,897.5547 L94,897.5547 L94,904.6875 L84,914.6875 L30,914.6875 L30,897.5547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="306" style="stroke:#000000;stroke-width:1.5;" width="1182" x="30" y="897.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="910.6216">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="109" y="909.7651">[finc(sem_value) &lt; 0]</text><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="625" y1="935.8203" y2="935.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="935.8203" y2="948.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="584" x2="625" y1="948.8203" y2="948.8203"/><polygon fill="#181818" points="594,944.8203,584,948.8203,594,952.8203,590,948.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="930.7544">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="612" y="930.7544">wakeup()</text><polygon fill="#181818" points="770,973.9531,780,977.9531,770,981.9531,774,977.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="776" y1="977.9531" y2="977.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="972.8872">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="612" y="972.8872">wakeup(sleeping_queue)</text><path d="M739,992.9531 L803,992.9531 L803,1000.0859 L793,1010.0859 L739,1010.0859 L739,992.9531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="463" x="739" y="992.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="754" y="1006.02">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="379" x="818" y="1005.1636">[!sleeping_queue.empty() &amp;&amp; sleeping_queue.top() != null]</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="1031.2188" y2="1031.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="1031.2188" y2="1044.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="1044.2188" y2="1044.2188"/><polygon fill="#181818" points="803,1040.2188,793,1044.2188,803,1048.2188,799,1044.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="1026.1528">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="821" y="1026.1528">yield()</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="1073.3516" y2="1073.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="1073.3516" y2="1086.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="1086.3516" y2="1086.3516"/><polygon fill="#181818" points="803,1082.3516,793,1086.3516,803,1090.3516,799,1086.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="1068.2856">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="1068.2856">switch_context(previous, next)</text><polygon fill="#181818" points="1015,1111.4844,1025,1115.4844,1015,1119.4844,1019,1115.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="1021" y1="1115.4844" y2="1115.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="1110.4185">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="1110.4185">switch_context(previous, next)</text><polygon fill="#181818" points="798,1140.6172,788,1144.6172,798,1148.6172,794,1144.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="792" x2="1031" y1="1144.6172" y2="1144.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="804" y="1139.5513">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="826" y="1139.5513"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1212" y1="1160.6172" y2="1160.6172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="35" y="1170.8276">[else case]</text><polygon fill="#181818" points="90,1191.5547,80,1195.5547,90,1199.5547,86,1195.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="577" y1="1195.5547" y2="1195.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="1190.4888">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="1190.4888"> </text><polygon fill="#181818" points="261,1227.6875,271,1231.6875,261,1235.6875,265,1231.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="267" y1="1231.6875" y2="1231.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="1226.6216">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="108" y="1226.6216">lock()</text><polygon fill="#181818" points="561,1256.8203,571,1260.8203,561,1264.8203,565,1260.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="283" x2="567" y1="1260.8203" y2="1260.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="290" y="1255.7544">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="312" y="1255.7544">p()</text><polygon fill="#181818" points="1015,1285.9531,1025,1289.9531,1015,1293.9531,1019,1289.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="1021" y1="1289.9531" y2="1289.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="1284.8872">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="612" y="1284.8872">fdec(sem_value)</text><polygon fill="#181818" points="594,1315.0859,584,1319.0859,594,1323.0859,590,1319.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="588" x2="1031" y1="1319.0859" y2="1319.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="600" y="1314.02">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="622" y="1314.02">int fdec(sem_value)</text><path d="M30,1334.0859 L94,1334.0859 L94,1341.2188 L84,1351.2188 L30,1351.2188 L30,1334.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="304" style="stroke:#000000;stroke-width:1.5;" width="1040" x="30" y="1334.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="1347.1528">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="140" x="109" y="1346.2964">[fdec(sem_value) &lt; 1]</text><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="625" y1="1372.3516" y2="1372.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="1372.3516" y2="1385.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="584" x2="625" y1="1385.3516" y2="1385.3516"/><polygon fill="#181818" points="594,1381.3516,584,1385.3516,594,1389.3516,590,1385.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="1367.2856">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="612" y="1367.2856">sleep()</text><polygon fill="#181818" points="775,1410.4844,785,1414.4844,775,1418.4844,779,1414.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="781" y1="1414.4844" y2="1414.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="1409.4185">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="612" y="1409.4185">sleep(sleeping_queue)</text><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="829" y1="1443.6172" y2="1443.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="829" x2="829" y1="1443.6172" y2="1456.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="788" x2="829" y1="1456.6172" y2="1456.6172"/><polygon fill="#181818" points="798,1452.6172,788,1456.6172,798,1460.6172,794,1456.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="794" y="1438.5513">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="816" y="1438.5513">yield()</text><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="829" y1="1485.75" y2="1485.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="829" x2="829" y1="1485.75" y2="1498.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="788" x2="829" y1="1498.75" y2="1498.75"/><polygon fill="#181818" points="798,1494.75,788,1498.75,798,1502.75,794,1498.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="794" y="1480.6841">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="816" y="1480.6841">switch_context(previous, next)</text><polygon fill="#181818" points="1020,1523.8828,1030,1527.8828,1020,1531.8828,1024,1527.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="1026" y1="1527.8828" y2="1527.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="794" y="1522.8169">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="816" y="1522.8169">switch_context(previous, next)</text><polygon fill="#181818" points="798,1553.0156,788,1557.0156,798,1561.0156,794,1557.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="792" x2="1031" y1="1557.0156" y2="1557.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="804" y="1551.9497">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="826" y="1551.9497"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1070" y1="1566.0156" y2="1566.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="35" y="1576.2261">[else case]</text><polygon fill="#181818" points="294,1596.9531,284,1600.9531,294,1604.9531,290,1600.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="288" x2="577" y1="1600.9531" y2="1600.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="300" y="1595.8872">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="322" y="1595.8872"> </text><polygon fill="#181818" points="90,1626.0859,80,1630.0859,90,1634.0859,86,1630.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="277" y1="1630.0859" y2="1630.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="1625.02">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="1625.02"> </text><polygon fill="#181818" points="261,1662.2188,271,1666.2188,261,1670.2188,265,1666.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="267" y1="1666.2188" y2="1666.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="1661.1528">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="108" y="1661.1528">get_health()</text><polygon fill="#181818" points="90,1691.3516,80,1695.3516,90,1699.3516,86,1695.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="277" y1="1695.3516" y2="1695.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="1690.2856">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="118" y="1690.2856">int health</text><path d="M30,1710.3516 L94,1710.3516 L94,1717.4844 L84,1727.4844 L30,1727.4844 L30,1710.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="453.6641" style="stroke:#000000;stroke-width:1.5;" width="1192" x="30" y="1710.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="1723.4185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85" x="109" y="1722.562">[health &lt;= 0]</text><polygon fill="#181818" points="261,1744.6172,271,1748.6172,261,1752.6172,265,1748.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="74" x2="267" y1="1748.6172" y2="1748.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="81" y="1743.5513">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="103" y="1743.5513">unlock()</text><polygon fill="#181818" points="561,1773.75,571,1777.75,561,1781.75,565,1777.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="283" x2="567" y1="1777.75" y2="1777.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="290" y="1772.6841">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="312" y="1772.6841">v()</text><polygon fill="#181818" points="1015,1802.8828,1025,1806.8828,1015,1810.8828,1019,1806.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="1021" y1="1806.8828" y2="1806.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="1801.8169">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="612" y="1801.8169">finc(sem_value)</text><polygon fill="#181818" points="594,1832.0156,584,1836.0156,594,1840.0156,590,1836.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="588" x2="1031" y1="1836.0156" y2="1836.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="600" y="1830.9497">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="622" y="1830.9497">int finc(sem_value)</text><path d="M218.5,1851.0156 L282.5,1851.0156 L282.5,1858.1484 L272.5,1868.1484 L218.5,1868.1484 L218.5,1851.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="306" style="stroke:#000000;stroke-width:1.5;" width="993.5" x="218.5" y="1851.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="233.5" y="1864.0825">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="297.5" y="1863.2261">[finc(sem_value) &lt; 0]</text><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="625" y1="1889.2813" y2="1889.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="1889.2813" y2="1902.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="584" x2="625" y1="1902.2813" y2="1902.2813"/><polygon fill="#181818" points="594,1898.2813,584,1902.2813,594,1906.2813,590,1902.2813" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="1884.2153">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="612" y="1884.2153">wakeup()</text><polygon fill="#181818" points="770,1927.4141,780,1931.4141,770,1935.4141,774,1931.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="776" y1="1931.4141" y2="1931.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="1926.3481">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="612" y="1926.3481">wakeup(sleeping_queue)</text><path d="M739,1946.4141 L803,1946.4141 L803,1953.5469 L793,1963.5469 L739,1963.5469 L739,1946.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="463" x="739" y="1946.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="754" y="1959.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="379" x="818" y="1958.6245">[!sleeping_queue.empty() &amp;&amp; sleeping_queue.top() != null]</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="1984.6797" y2="1984.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="1984.6797" y2="1997.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="1997.6797" y2="1997.6797"/><polygon fill="#181818" points="803,1993.6797,793,1997.6797,803,2001.6797,799,1997.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="1979.6138">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="821" y="1979.6138">yield()</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="2026.8125" y2="2026.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="2026.8125" y2="2039.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="2039.8125" y2="2039.8125"/><polygon fill="#181818" points="803,2035.8125,793,2039.8125,803,2043.8125,799,2039.8125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="2021.7466">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="2021.7466">switch_context(previous, next)</text><polygon fill="#181818" points="1015,2064.9453,1025,2068.9453,1015,2072.9453,1019,2068.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="1021" y1="2068.9453" y2="2068.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="2063.8794">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="2063.8794">switch_context(previous, next)</text><polygon fill="#181818" points="798,2094.0781,788,2098.0781,798,2102.0781,794,2098.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="792" x2="1031" y1="2098.0781" y2="2098.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="804" y="2093.0122">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="826" y="2093.0122"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="218.5" x2="1212" y1="2114.0781" y2="2114.0781"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="223.5" y="2124.2886">[else case]</text><polygon fill="#181818" points="294,2145.0156,284,2149.0156,294,2153.0156,290,2149.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="288" x2="577" y1="2149.0156" y2="2149.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="300" y="2143.9497">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="322" y="2143.9497"> </text><polygon fill="#181818" points="266,2188.1484,276,2192.1484,266,2196.1484,270,2192.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="2192.1484" y2="2192.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="2187.0825">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="108" y="2187.0825">can_move()</text><polygon fill="#181818" points="465,2217.2813,475,2221.2813,465,2225.2813,469,2221.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288" x2="471" y1="2221.2813" y2="2221.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="295" y="2216.2153">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="317" y="2216.2153">can_move()</text><polygon fill="#181818" points="299,2246.4141,289,2250.4141,299,2254.4141,295,2250.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293" x2="481" y1="2250.4141" y2="2250.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="305" y="2245.3481">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="327" y="2245.3481">bool can_move</text><polygon fill="#181818" points="90,2275.5469,80,2279.5469,90,2283.5469,86,2279.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="2279.5469" y2="2279.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="2274.481">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="118" y="2274.481">bool can_move</text><path d="M20,2294.5469 L84,2294.5469 L84,2301.6797 L74,2311.6797 L20,2311.6797 L20,2294.5469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="573.6094" style="stroke:#000000;stroke-width:1.5;" width="514.5" x="20" y="2294.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="2307.6138">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="99" y="2306.7573">[can_move]</text><path d="M30,2318.6797 L94,2318.6797 L94,2325.8125 L84,2335.8125 L30,2335.8125 L30,2318.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="542.4766" style="stroke:#000000;stroke-width:1.5;" width="494.5" x="30" y="2318.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="2331.7466">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="109" y="2330.8901">[event == up]</text><polygon fill="#181818" points="266,2352.9453,276,2356.9453,266,2360.9453,270,2356.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="2356.9453" y2="2356.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="2351.8794">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="108" y="2351.8794">set_target_move(0, -1)</text><polygon fill="#181818" points="465,2382.0781,475,2386.0781,465,2390.0781,469,2386.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288" x2="471" y1="2386.0781" y2="2386.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="295" y="2381.0122">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="317" y="2381.0122">set_target_move(0, -1)</text><polygon fill="#181818" points="299,2411.2109,289,2415.2109,299,2419.2109,295,2415.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293" x2="481" y1="2415.2109" y2="2415.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="305" y="2410.145">60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="327" y="2410.145"> </text><polygon fill="#181818" points="90,2440.3438,80,2444.3438,90,2448.3438,86,2444.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="2444.3438" y2="2444.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="2439.2778">61</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="2439.2778"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="524.5" y1="2453.3438" y2="2453.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="35" y="2463.5542">[event == down]</text><polygon fill="#181818" points="266,2484.2813,276,2488.2813,266,2492.2813,270,2488.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="2488.2813" y2="2488.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="2483.2153">62</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="108" y="2483.2153">set_target_move(0, 1)</text><polygon fill="#181818" points="465,2513.4141,475,2517.4141,465,2521.4141,469,2517.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288" x2="471" y1="2517.4141" y2="2517.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="295" y="2512.3481">63</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="317" y="2512.3481">set_target_move(0, 1)</text><polygon fill="#181818" points="299,2542.5469,289,2546.5469,299,2550.5469,295,2546.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293" x2="481" y1="2546.5469" y2="2546.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="305" y="2541.481">64</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="327" y="2541.481"> </text><polygon fill="#181818" points="90,2571.6797,80,2575.6797,90,2579.6797,86,2575.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="2575.6797" y2="2575.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="2570.6138">65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="2570.6138"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="524.5" y1="2584.6797" y2="2584.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="35" y="2594.8901">[event == right]</text><polygon fill="#181818" points="266,2615.6172,276,2619.6172,266,2623.6172,270,2619.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="2619.6172" y2="2619.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="2614.5513">66</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="108" y="2614.5513">set_target_move(1, 0)</text><polygon fill="#181818" points="465,2644.75,475,2648.75,465,2652.75,469,2648.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288" x2="471" y1="2648.75" y2="2648.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="295" y="2643.6841">67</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="317" y="2643.6841">set_target_move(1, 0)</text><polygon fill="#181818" points="299,2673.8828,289,2677.8828,299,2681.8828,295,2677.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293" x2="481" y1="2677.8828" y2="2677.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="305" y="2672.8169">68</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="327" y="2672.8169"> </text><polygon fill="#181818" points="90,2703.0156,80,2707.0156,90,2711.0156,86,2707.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="2707.0156" y2="2707.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="2701.9497">69</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="2701.9497"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="524.5" y1="2716.0156" y2="2716.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94" x="35" y="2726.2261">[event == left]</text><polygon fill="#181818" points="266,2746.9531,276,2750.9531,266,2754.9531,270,2750.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="2750.9531" y2="2750.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="2745.8872">70</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="108" y="2745.8872">set_target_move(-1, 0)</text><polygon fill="#181818" points="465,2776.0859,475,2780.0859,465,2784.0859,469,2780.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288" x2="471" y1="2780.0859" y2="2780.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="295" y="2775.02">71</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="317" y="2775.02">set_target_move(-1, 0)</text><polygon fill="#181818" points="299,2805.2188,289,2809.2188,299,2813.2188,295,2809.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293" x2="481" y1="2809.2188" y2="2809.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="305" y="2804.1528">72</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="327" y="2804.1528"> </text><polygon fill="#181818" points="90,2834.3516,80,2838.3516,90,2842.3516,86,2838.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="2838.3516" y2="2838.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="2833.2856">73</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="2833.2856"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="524.5" y1="2847.3516" y2="2847.3516"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="56" x="35" y="2857.562">[default]</text><polygon fill="#181818" points="266,2892.2891,276,2896.2891,266,2900.2891,270,2896.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="2896.2891" y2="2896.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="2891.2231">74</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="108" y="2891.2231">can_shoot()</text><polygon fill="#181818" points="90,2921.4219,80,2925.4219,90,2929.4219,86,2925.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="2925.4219" y2="2925.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="2920.356">75</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="118" y="2920.356">bool can_shoot()</text><path d="M20,2940.4219 L84,2940.4219 L84,2947.5547 L74,2957.5547 L20,2957.5547 L20,2940.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="699.7266" style="stroke:#000000;stroke-width:1.5;" width="1202" x="20" y="2940.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="2953.4888">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203" x="99" y="2952.6323">[can_shoot &amp;&amp; event == space]</text><polygon fill="#181818" points="266,2974.6875,276,2978.6875,266,2982.6875,270,2978.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="2978.6875" y2="2978.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="2973.6216">76</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="108" y="2973.6216">shoot()</text><polygon fill="#181818" points="90,3003.8203,80,3007.8203,90,3011.8203,86,3007.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="3007.8203" y2="3007.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="3002.7544">77</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="3002.7544"> </text><polygon fill="#181818" points="266,3032.9531,276,3036.9531,266,3040.9531,270,3036.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="272" y1="3036.9531" y2="3036.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="3031.8872">78</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="108" y="3031.8872">unlock()</text><polygon fill="#181818" points="561,3062.0859,571,3066.0859,561,3070.0859,565,3066.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288" x2="567" y1="3066.0859" y2="3066.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="295" y="3061.02">79</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="317" y="3061.02">v()</text><polygon fill="#181818" points="1015,3091.2188,1025,3095.2188,1015,3099.2188,1019,3095.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="1021" y1="3095.2188" y2="3095.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="3090.1528">80</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="612" y="3090.1528">finc(sem_value)</text><polygon fill="#181818" points="594,3120.3516,584,3124.3516,594,3128.3516,590,3124.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="588" x2="1031" y1="3124.3516" y2="3124.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="600" y="3119.2856">81</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="622" y="3119.2856">int finc(sem_value)</text><path d="M30,3139.3516 L94,3139.3516 L94,3146.4844 L84,3156.4844 L30,3156.4844 L30,3139.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="335.1328" style="stroke:#000000;stroke-width:1.5;" width="1182" x="30" y="3139.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45" y="3152.4185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="109" y="3151.562">[finc(sem_value) &lt; 0]</text><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="625" y1="3177.6172" y2="3177.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="3177.6172" y2="3190.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="584" x2="625" y1="3190.6172" y2="3190.6172"/><polygon fill="#181818" points="594,3186.6172,584,3190.6172,594,3194.6172,590,3190.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="3172.5513">82</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="612" y="3172.5513">wakeup()</text><polygon fill="#181818" points="770,3215.75,780,3219.75,770,3223.75,774,3219.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="583" x2="776" y1="3219.75" y2="3219.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="590" y="3214.6841">83</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="612" y="3214.6841">wakeup(sleeping_queue)</text><path d="M739,3234.75 L803,3234.75 L803,3241.8828 L793,3251.8828 L739,3251.8828 L739,3234.75 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="463" x="739" y="3234.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="754" y="3247.8169">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="379" x="818" y="3246.9604">[!sleeping_queue.empty() &amp;&amp; sleeping_queue.top() != null]</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="3273.0156" y2="3273.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="3273.0156" y2="3286.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="3286.0156" y2="3286.0156"/><polygon fill="#181818" points="803,3282.0156,793,3286.0156,803,3290.0156,799,3286.0156" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="3267.9497">84</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="821" y="3267.9497">yield()</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="3315.1484" y2="3315.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="3315.1484" y2="3328.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="3328.1484" y2="3328.1484"/><polygon fill="#181818" points="803,3324.1484,793,3328.1484,803,3332.1484,799,3328.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="3310.0825">85</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="3310.0825">switch_context(previous, next)</text><polygon fill="#181818" points="1015,3353.2813,1025,3357.2813,1015,3361.2813,1019,3357.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="1021" y1="3357.2813" y2="3357.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="3352.2153">86</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="3352.2153">switch_context(previous, next)</text><polygon fill="#181818" points="798,3382.4141,788,3386.4141,798,3390.4141,794,3386.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="792" x2="1031" y1="3386.4141" y2="3386.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="804" y="3381.3481">87</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="826" y="3381.3481"> </text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1212" y1="3402.4141" y2="3402.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="35" y="3412.6245">[else case]</text><polygon fill="#181818" points="299,3433.3516,289,3437.3516,299,3441.3516,295,3437.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293" x2="577" y1="3437.3516" y2="3437.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="305" y="3432.2856">88</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="327" y="3432.2856"> </text><polygon fill="#181818" points="90,3462.4844,80,3466.4844,90,3470.4844,86,3466.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="272" y1="3466.4844" y2="3466.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="3461.4185">89</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="3461.4185"> </text><polygon fill="#181818" points="775,3498.6172,785,3502.6172,775,3506.6172,779,3502.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="781" y1="3502.6172" y2="3502.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="3497.5513">90</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="108" y="3497.5513">yield()</text><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="829" y1="3531.75" y2="3531.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="829" x2="829" y1="3531.75" y2="3544.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="788" x2="829" y1="3544.75" y2="3544.75"/><polygon fill="#181818" points="798,3540.75,788,3544.75,798,3548.75,794,3544.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="794" y="3526.6841">91</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="816" y="3526.6841">switch_context(previous, next)</text><polygon fill="#181818" points="1015,3569.8828,1025,3573.8828,1015,3577.8828,1019,3573.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="1021" y1="3573.8828" y2="3573.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="794" y="3568.8169">92</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="816" y="3568.8169">switch_context(previous, next)</text><polygon fill="#181818" points="798,3599.0156,788,3603.0156,798,3607.0156,794,3603.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="792" x2="1031" y1="3603.0156" y2="3603.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="804" y="3597.9497">93</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="826" y="3597.9497"> </text><polygon fill="#181818" points="90,3628.1484,80,3632.1484,90,3636.1484,86,3632.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="786" y1="3632.1484" y2="3632.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96" y="3627.0825">94</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="118" y="3627.0825"> </text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1333.5" x="0" y="3667.7148"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1333.5" y1="3667.7148" y2="3667.7148"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1333.5" y1="3670.7148" y2="3670.7148"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="106" x="613.75" y="3657.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87" x="619.75" y="3673.2153">Termination</text><polygon fill="#181818" points="770,3707.4141,780,3711.4141,770,3715.4141,774,3711.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="79" x2="776" y1="3711.4141" y2="3711.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="86" y="3706.3481">95</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="108" y="3706.3481">thread_exit()</text><path d="M729,3726.4141 L793,3726.4141 L793,3733.5469 L783,3743.5469 L729,3743.5469 L729,3726.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="205.6016" style="stroke:#000000;stroke-width:1.5;" width="351" x="729" y="3726.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="744" y="3739.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="808" y="3738.6245">[waiting_join]</text><path d="M739,3750.5469 L803,3750.5469 L803,3757.6797 L793,3767.6797 L739,3767.6797 L739,3750.5469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="174.4688" style="stroke:#000000;stroke-width:1.5;" width="331" x="739" y="3750.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="754" y="3763.6138">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147" x="818" y="3762.7573">[waiting_id != main_id]</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="3788.8125" y2="3788.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="3788.8125" y2="3801.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="3801.8125" y2="3801.8125"/><polygon fill="#181818" points="803,3797.8125,793,3801.8125,803,3805.8125,799,3801.8125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="3783.7466">96</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="821" y="3783.7466">resume()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="739" x2="1070" y1="3810.8125" y2="3810.8125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="744" y="3821.0229">[else case]</text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="3845.75" y2="3845.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="3845.75" y2="3858.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="793" x2="834" y1="3858.75" y2="3858.75"/><polygon fill="#181818" points="803,3854.75,793,3858.75,803,3862.75,799,3858.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="3840.6841">97</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="821" y="3840.6841">switch_context(this, main)</text><polygon fill="#181818" points="1015,3883.8828,1025,3887.8828,1015,3891.8828,1019,3887.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="1021" y1="3887.8828" y2="3887.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799" y="3882.8169">98</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="821" y="3882.8169">switch_context(previous, next)</text><polygon fill="#181818" points="803,3913.0156,793,3917.0156,803,3921.0156,799,3917.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="797" x2="1031" y1="3917.0156" y2="3917.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="809" y="3911.9497">99</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="831" y="3911.9497"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="792" x2="834" y1="3965.1484" y2="3965.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="834" x2="834" y1="3965.1484" y2="3978.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="834" y1="3978.1484" y2="3978.1484"/><polygon fill="#181818" points="797,3974.1484,787,3978.1484,797,3982.1484,793,3978.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="799" y="3960.0825">100</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="830" y="3960.0825">yield()</text><!--MD5=[b02ba66b855e04c33fd99eb88ae66fe6]
@startuml

participant " : Player" as Player
participant " : Spaceship" as Spaceship
participant " : Entity" as Entity
participant " : Semaphore" as Semaphore
participant " : Thread" as Thread
participant " : CPU" as CPU
boundary " : UContext" as UContext

box "Game" #CEC4E1
	participant Player
	participant Spaceship
	participant Entity
end box


box "Threads library" #LightBlue
	participant Semaphore
	participant Thread
	participant CPU
	participant UContext
end box

autonumber
== Initialization ==
Player -> Thread : new Thread(update_behaviour, this)
activate Player
activate Thread
Thread -> CPU : new Context(func, an...)
activate CPU
CPU -> UContext : getcontext(context)
activate UContext
UContext - -> CPU
deactivate UContext
CPU -> UContext : makecontext(context, func, an...)
activate UContext
UContext - -> CPU
deactivate UContext
CPU - -> Thread
deactivate CPU
Thread - -> Player
deactivate Thread
== Behaviour Loop ==
loop true
Player -> Semaphore : p()
activate Semaphore
Semaphore -> CPU : fdec(sem_value)
activate CPU
CPU - -> Semaphore : int fdec(sem_value)
deactivate CPU
	alt fdec(sem_value) < 1
	Semaphore -> Semaphore : sleep()
	Semaphore -> Thread : sleep(sleeping_queue)
	activate Thread
	Thread -> Thread : yield()
	Thread -> Thread : switch_context(previous, next)
	Thread -> CPU : switch_context(previous, next)
	activate CPU
	CPU - -> Thread 
	deactivate CPU
	deactivate Thread
	else else case
	Semaphore - -> Player
	deactivate Semaphore
	end
Player -> Semaphore : v()
activate Semaphore
Semaphore -> CPU : finc(sem_value)
activate CPU
CPU - -> Semaphore : int finc(sem_value)
deactivate CPU
	alt finc(sem_value) < 0
	Semaphore -> Semaphore : wakeup()
	Semaphore -> Thread : wakeup(sleeping_queue)
	activate Thread
		alt !sleeping_queue.empty() && sleeping_queue.top() != null
		Thread -> Thread : yield()
		Thread -> Thread : switch_context(previous, next)
		Thread -> CPU : switch_context(previous, next)
		activate CPU
		CPU - -> Thread
		deactivate CPU
		deactivate Thread
		end
	else else case
	Semaphore - -> Player
	deactivate Semaphore
	end
Player -> Spaceship : lock()
activate Spaceship
Spaceship -> Semaphore : p()
activate Semaphore
Semaphore -> CPU : fdec(sem_value)
activate CPU
CPU - -> Semaphore : int fdec(sem_value)
deactivate CPU
	alt fdec(sem_value) < 1
	Semaphore -> Semaphore : sleep()
	Semaphore -> Thread : sleep(sleeping_queue)
	Thread -> Thread : yield()
	Thread -> Thread : switch_context(previous, next)
	Thread -> CPU : switch_context(previous, next)
	CPU - -> Thread
	deactivate Thread
	deactivate CPU
	else else case
	Semaphore - -> Spaceship
	deactivate Semaphore
	Spaceship - -> Player
	deactivate Spaceship
	end
Player -> Spaceship : get_health()
activate Spaceship
Spaceship - -> Player : int health
deactivate Spaceship
	alt health <= 0
	Player -> Spaceship : unlock()
	deactivate Player
	activate Spaceship
	Spaceship -> Semaphore : v()
	activate Semaphore
	Semaphore -> CPU : finc(sem_value)
	activate CPU
	CPU - -> Semaphore : int finc(sem_value)
	deactivate CPU
		alt finc(sem_value) < 0
		Semaphore -> Semaphore : wakeup()
		Semaphore -> Thread : wakeup(sleeping_queue)
		activate Thread
			alt !sleeping_queue.empty() && sleeping_queue.top() != null
			Thread -> Thread : yield()
			Thread -> Thread : switch_context(previous, next)
			Thread -> CPU : switch_context(previous, next)
			activate CPU
			CPU - -> Thread 
			deactivate CPU
			deactivate Thread
			end
		else else case
		Semaphore - -> Spaceship
		deactivate Semaphore
		end
	end
Player -> Spaceship : can_move()
activate Player
activate Spaceship
Spaceship -> Entity : can_move()
activate Entity
Entity - -> Spaceship : bool can_move
deactivate Entity
Spaceship - -> Player : bool can_move
deactivate Spaceship
	alt can_move
		alt event == up
		Player -> Spaceship : set_target_move(0, -1)
		activate Spaceship
		Spaceship -> Entity : set_target_move(0, -1)
		activate Entity
		Entity - -> Spaceship
		deactivate Entity
		Spaceship - -> Player
		deactivate Spaceship
		else event == down
		Player -> Spaceship : set_target_move(0, 1)
		activate Spaceship
		Spaceship -> Entity : set_target_move(0, 1)
		activate Entity
		Entity - -> Spaceship
		deactivate Entity
		Spaceship - -> Player
		deactivate Spaceship
		else event == right
		Player -> Spaceship : set_target_move(1, 0)
		activate Spaceship
		Spaceship -> Entity : set_target_move(1, 0)
		activate Entity
		Entity - -> Spaceship
		deactivate Entity
		Spaceship - -> Player
		deactivate Spaceship
		else event == left
		Player -> Spaceship : set_target_move(-1, 0)
		activate Spaceship
		Spaceship -> Entity : set_target_move(-1, 0)
		activate Entity
		Entity - -> Spaceship
		deactivate Entity
		Spaceship - -> Player
		deactivate Spaceship
		else default
		end
	end
Player -> Spaceship : can_shoot()
activate Spaceship
Spaceship - -> Player : bool can_shoot()
deactivate Spaceship
	alt can_shoot && event == space
	Player -> Spaceship : shoot()
	activate Spaceship
	Spaceship - -> Player
	deactivate Spaceship
Player -> Spaceship : unlock()
activate Spaceship
Spaceship -> Semaphore : v()
activate Semaphore
Semaphore -> CPU : finc(sem_value)
activate CPU
CPU - -> Semaphore : int finc(sem_value)
deactivate CPU
	alt finc(sem_value) < 0
	Semaphore -> Semaphore : wakeup()
	Semaphore -> Thread : wakeup(sleeping_queue)
	activate Thread
		alt !sleeping_queue.empty() && sleeping_queue.top() != null
		Thread -> Thread : yield()
		Thread -> Thread : switch_context(previous, next)
		Thread -> CPU : switch_context(previous, next)
		activate CPU
		CPU - -> Thread 
		deactivate CPU
		deactivate Thread
		end
	else else case
	Semaphore - -> Spaceship
	deactivate Semaphore
	Spaceship - -> Player
	deactivate Spaceship
	end
Player -> Thread : yield()
Thread -> Thread : switch_context(previous, next)
Thread -> CPU : switch_context(previous, next)
activate CPU
CPU - -> Thread 
deactivate CPU
Thread - -> Player
deactivate Thread
end
== Termination ==
Player -> Thread : thread_exit()
activate Thread
	alt waiting_join
		alt waiting_id != main_id
		Thread -> Thread : resume()
		else else case
		Thread -> Thread : switch_context(this, main)
		Thread -> CPU : switch_context(previous, next)
		activate CPU
		CPU - -> Thread 
		deactivate CPU
		end
	end
Thread -> Thread : yield()
deactivate Thread
deactivate Player

@enduml

PlantUML version 1.2022.7(Mon Aug 22 14:01:30 BRT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>